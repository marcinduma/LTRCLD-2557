
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Explore Simplicity of Public Cloud Network Configuration with Cloud Network Controller (formerly cAPIC) and Nexus Dashboard Orchestrator (NDO)" name="description"/>
<meta content="Marcin Duma &amp; Karol Okraska" name="author"/>
<link href="../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.4.2, mkdocs-material-8.5.10" name="generator"/>
<title>Cisco ACI rest API - CiscoLive EMEA 2023 --- LTRCLD-2557</title>
<link href="../assets/stylesheets/main.975780f9.min.css" rel="stylesheet"/>
<link href="../assets/stylesheets/palette.2505c338.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../css/print-site-enum-headings1.css" rel="stylesheet"/>
<link href="../css/print-site-enum-headings2.css" rel="stylesheet"/>
<link href="../css/print-site-enum-headings3.css" rel="stylesheet"/>
<link href="../css/print-site-enum-headings4.css" rel="stylesheet"/>
<link href="../css/print-site-enum-headings5.css" rel="stylesheet"/>
<link href="../css/print-site-enum-headings6.css" rel="stylesheet"/>
<link href="../css/print-site.css" rel="stylesheet"/>
<link href="../css/print-site-material.css" rel="stylesheet"/>
<script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            
                .gscrollbar-fixer { padding-right: 15px; }
                .gdesc-inner { font-size: 0.75rem; }
                body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
                body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
                body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
                </style><script src="../assets/javascripts/glightbox.min.js"></script></head>
<body data-md-color-accent="None" data-md-color-primary="None" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#cisco-aci-rest-api">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="CiscoLive EMEA 2023 --- LTRCLD-2557" class="md-header__button md-logo" data-md-component="logo" href=".." title="CiscoLive EMEA 2023 --- LTRCLD-2557">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            CiscoLive EMEA 2023 --- LTRCLD-2557
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Cisco ACI rest API
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="CiscoLive EMEA 2023 --- LTRCLD-2557" class="md-nav__button md-logo" data-md-component="logo" href=".." title="CiscoLive EMEA 2023 --- LTRCLD-2557">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
    CiscoLive EMEA 2023 --- LTRCLD-2557
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="..">
        Home
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2">
          Lab Access
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Lab Access" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          Lab Access
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../LAB_access/">
        Accessing the Lab Environment
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3">
          INFRA Configuration
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="INFRA Configuration" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          INFRA Configuration
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../infra-config/">
        Sites onboarding
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../infra-config-msite/">
        Multisite configuration
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4">
          Tenant configuration
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Tenant configuration" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          Tenant configuration
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../ndo-tenant/">
        NDO Tenant configuration
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../aws-trust/">
        AWS Trust
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5">
          Use-cases
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Use-cases" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          Use-cases
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../use-case1/">
        Use-case 01 - Stretched VRF
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../use-case2/">
        Use-case 02 - Internet Gateway
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../use-case3/">
        Use-case 03 - Inter-Tenant routing
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6">
          Appendixes
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Appendixes" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
          Appendixes
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_1" id="__nav_6_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_1">
          Lab details
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Lab details" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_1">
<span class="md-nav__icon md-icon"></span>
          Lab details
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../pod1/">
        POD-01
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../pod2.md">
        POD-02
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../pod3.md">
        POD-03
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../pod4.md">
        POD-04
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../pod5.md">
        POD-05
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../pod6.md">
        POD-06
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../pod7.md">
        POD-07
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../pod8.md">
        POD-08
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../pod9.md">
        POD-09
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../pod10.md">
        POD-10
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../object-map/">
        ACI to Public Cloud Object mapping
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../resources/">
        Resources
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../print_page/">
        PRINT version
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#1-define-restapi-calls-under-collection">
    1 Define restAPI calls under Collection
  </a>
<nav aria-label="1 Define restAPI calls under Collection" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#11-create-aci-login-request">
    1.1 Create ACI login request
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#register-your-aci-fabric-switches-in-apic">
    Register your ACI Fabric Switches in APIC
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#12-get-information-about-a-node">
    1.2 Get Information About a Node
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-aci-access-polices">
    2  ACI Access Polices
  </a>
<nav aria-label="2  ACI Access Polices" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#21-interface-policies">
    2.1 Interface Policies
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#22-vlans-domains-and-aaeps">
    2.2 VLANs, Domains and AAEPs
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#23-interface-policy-group">
    2.3 Interface Policy Group
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-aci-tenant">
    3  ACI Tenant
  </a>
<nav aria-label="3  ACI Tenant" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#31-tenant-components">
    3.1 Tenant components
  </a>
<nav aria-label="3.1 Tenant components" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#311-tenant-and-vrf">
    3.1.1 Tenant and VRF
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#312-bd-in-existing-tenant">
    3.1.2 BD in existing tenant
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#313-application-profile">
    3.1.3 Application Profile
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#314-epgs-in-existing-tenantappprofiles-and-associated-with-domain">
    3.1.4 EPGs in existing tenant/appprofiles and associated with domain
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4-use-csv-file-for-input-data">
    4 Use CSV file for input data
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#41-run-collection-requests">
    4.1 Run Collection requests
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#42-verification-after-runing-the-collection">
    4.2 Verification after runing the collection
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="cisco-aci-rest-api">Cisco ACI rest API</h1>
<p>In this lab section you will create and execute list of API calls to configure ACI managed objects as well as read data from existing polices and devices. After this section you should feel comfortable with running simple automation tasks and build your own tasks for further customizations. You will be familiar with Postman dashboard and general idea of running request individually or as a collection defined.</p>
<h2 id="1-define-restapi-calls-under-collection">1 Define restAPI calls under Collection</h2>
<p>Now is a time to work with our requests to GET or POST restAPI. You will define couple of them during the LAB. Figure below shows where to navigate to create new request in your collection.</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-request-1.png"><img src="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-request-1.png" width="800"/></a></p>
<p>Every API command have predefined structure. Administrator needs to specify URI for correct object are you going to work with. Everything is described in details under the following link:
<a href="https://www.cisco.com/c/en/us/td/docs/switches/datacenter/aci/apic/sw/2-x/rest_cfg/2_1_x/b_Cisco_APIC_REST_API_Configuration_Guide/b_Cisco_APIC_REST_API_Configuration_Guide_chapter_01.html" target="_blank">Cisco ACI API Configuration guide</a>.</p>
<p>The figure below shows structure of every API call:</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/349945.png"><img src="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/349945.png" width="800"/></a></p>
<h3 id="11-create-aci-login-request">1.1 Create ACI login request</h3>
<p>First request when working with ACI must be authentication. Without having your session authenticated, no API calls can be successfully executed. Information about Authentication request structure can be found here:</p>
<p><a href="https://www.cisco.com/c/en/us/td/docs/switches/datacenter/aci/apic/sw/2-x/rest_cfg/2_1_x/b_Cisco_APIC_REST_API_Configuration_Guide/b_Cisco_APIC_REST_API_Configuration_Guide_chapter_01.html#concept_D16AC6DC9CCD4351A4A40287487F061A" target="_blank">Cisco ACI Authentication API</a>.</p>
<p>Define it in Postman:</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-aaalogin-1.png"><img src="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-aaalogin-1.png" width="800"/></a></p>
<p>In New Request section specify:</p>
<p>1) Name of Request</p>
<div class="highlight"><pre><span></span><code>    ACI Login
</code></pre></div>
<p>2) Select Method to be <strong>POST</strong></p>
<p>3) Enter request URL</p>
<div class="highlight"><pre><span></span><code>    https://{{apic}}/api/aaaLogin.json
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please notice that it's first place you use your Environment Variable = apic. In JSON definition every variable is closed by <strong>{{ }}</strong>.</p>
</div>
<p>4) Move to <strong>Body</strong> section for further work with your request</p>
<p>Once you open Body section, you need to select type of data to be <strong>raw</strong> and coding to <strong>JSON</strong>.</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-aaalogin-2.png"><img src="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-aaalogin-2.png" width="800"/></a></p>
<p>Now you can copy code defined below to body section of your request.</p>
<div class="highlight"><span class="filename">aaaLogin</span><pre><span></span><code><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-0-2" id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="w">  </span><span class="nt">"aaaUser"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-0-3" id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="w">    </span><span class="nt">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-0-4" id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="hll"><span class="w">      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"{{user}}"</span><span class="p">,</span><span class="w"></span>
</span><a href="#__codelineno-0-5" id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="hll"><span class="w">      </span><span class="nt">"pwd"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"{{password}}"</span><span class="w"></span>
</span><a href="#__codelineno-0-6" id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-0-7" id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="w">  </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-0-8" id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p><strong><mark>Yellow</mark></strong> highlighted text in the json code above will use variables you defined in <strong>Environment</strong> at the beginning of the Lab.</p>
<p>Now your Request should looks like on the figure below.</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-aaalogin-3.png"><img src="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-aaalogin-3.png" width="800"/></a></p>
<p><span style="color:blue"><strong>It's time to TEST it!</strong></span>.</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-aaalogin-4.png"><img src="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-aaalogin-4.png" width="800"/></a></p>
<p>Click on <strong>Send</strong> button. Make sure your environment <strong>ACI-dcloud</strong> is selected - above the Send button.</p>
<p>When works as expected you will be authenticated to APIC. Responce from the APIC is visible in the section at your screen.
Let's go together across results you see on the screen. First is a Status <strong> 200 OK </strong> - means APIC server accepted your request, execute it and responce with data. In the REPLY Body you see JSON structure data. You can see <strong>token</strong> which is your authentication token. <strong>RefreshTimeoutSeconds</strong> set to 600 seconds = 10 minutes. Token is valid for 10 minutes and after that period will expire.</p>
<p>Please scroll down across the response body yourself.  Look for such information:</p>
<ul>
<li>userName</li>
<li>sessionId</li>
<li>aaaWriteRoles</li>
</ul>
<p>Write them down to notepad.</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-aaalogin-5.png"><img src="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-aaalogin-5.png" width="800"/></a></p>
<h3 id="register-your-aci-fabric-switches-in-apic">Register your ACI Fabric Switches in APIC</h3>
<p>Lab is clear and leaf/spines requires registration. You can automate it using Postman.</p>
<p>Configure new Postman POST Request with code <strong><a href="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/docs/fabricinfra.json" target="_blank">downloaded from here</a></strong></p>
<p>use URI:</p>
<div class="highlight"><pre><span></span><code>    https://{{apic}}/api/node/class/fabricNode.json
</code></pre></div>
<p>Contact Instructor in case of issues.</p>
<h3 id="12-get-information-about-a-node">1.2 Get Information About a Node</h3>
<p>POST is not only one request type. You can configure your ACI fabric, but you can use restAPI to pull data you are interest to analyse. This excercise is about writing a <strong>GET</strong> Request under already created ACI collection. As an example you will pull information about Leaf node-101 system in <em>json</em>.</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-get-node101-1.PNG"><img src="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-get-node101-1.PNG" width="800"/></a></p>
<p>Name your new Request</p>
<div class="highlight"><pre><span></span><code>    Node-101-topsystem check
</code></pre></div>
<p>Copy the URI to GET request:</p>
<div class="highlight"><pre><span></span><code>    https://{{apic}}/api/mo/topology/pod-1/node-101/sys.json
</code></pre></div>
<p>Save new Request and Click <strong>Send</strong> .</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It may happen that your API Token expired - remember its valid only 10 minutes. If you experience it, go to <em>ACI Login</em> Request and Send it again to re-authenticate.</p>
</div>
<p>In the Body responce you can verify topsystem information about Leaf in your Fabric.
You can pull data about AccessPolices, Interfaces as well as Logical construct - Tenant, EPGs, VRFs etc. The idea is always same - specify correct URL. Another test will be quering information about APIC node and current firmware version running on it.</p>
<p>Please Create another Request under your Collection with following setup:</p>
<p>Name of Request:</p>
<div class="highlight"><pre><span></span><code>    Get Running Firmware
</code></pre></div>
<p>GET request URI:</p>
<div class="highlight"><pre><span></span><code>    https://{{apic}}/api/mo/topology/pod-1/node-1/sys/ctrlrfwstatuscont.json?query-target=subtree&amp;target-subtree-class=firmwareCtrlrRunning
</code></pre></div>
<p>Please observe that current query is composed with parameters. Before we pulled data directly from top-system of our ACI Leaf. Now you are narrowing the output to only sub-class you are intrested about.
Try to delete part of URI <mark><strong>?query-target=subtree&amp;target-subtree-class=firmwareCtrlrRunning</strong></mark> and do Send again.</p>
<h2 id="2-aci-access-polices">2  ACI Access Polices</h2>
<p>Every ACI Fabric configuration starts with Access Polices. You need to define ACI objects which represent single physical port configurations. To remind relationships between objects, please check following figure.</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/access-polices.png"><img src="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/access-polices.png" width="800"/></a></p>
<p>Usually Interface Polices are configured once and re-used like LLDP, LACP, CDP, etc. However our LAB is empty and you need to start from zero. Following sections will help you to prepare your API requests.</p>
<h3 id="21-interface-policies">2.1 Interface Policies</h3>
<p>You will configure LACP Policy, LLDP_ON, LINK-10G. Copy each of the Policy json definition to individual POST requests under your ACI Collection in Postman.</p>
<p>Use URI to POST:</p>
<div class="highlight"><pre><span></span><code>    https://{{apic}}/api/node/mo/uni.json
</code></pre></div>
<div class="highlight"><span class="filename">LACP_ACTIVE</span><pre><span></span><code><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-1-2" id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="w">  </span><span class="nt">"lacpLagPol"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-1-3" id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="w">    </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-1-4" id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="w">      </span><span class="nt">"dn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uni/infra/lacplagp-LACP_ACTIVE"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-1-5" id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="w">      </span><span class="nt">"ctrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fast-sel-hot-stdby,graceful-conv,susp-individual"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-1-6" id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="w">      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LACP_ACTIVE"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-1-7" id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="w">      </span><span class="nt">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-1-8" id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="w">      </span><span class="nt">"rn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lacplagp-LACP_ACTIVE"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-1-9" id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="w">      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="w"></span>
<a href="#__codelineno-1-10" id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="w">    </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-1-11" id="__codelineno-1-11" name="__codelineno-1-11"></a><span class="w">    </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<a href="#__codelineno-1-12" id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="w">  </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-1-13" id="__codelineno-1-13" name="__codelineno-1-13"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><span class="filename">LLDP_ON</span><pre><span></span><code><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-2-2" id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="w">  </span><span class="nt">"lldpIfPol"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-2-3" id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="w">    </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-2-4" id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="w">      </span><span class="nt">"dn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uni/infra/lldpIfP-LLDP_ON"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-2-5" id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="w">      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LLDP_ON"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-2-6" id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="w">      </span><span class="nt">"rn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lldpIfP-LLDP_ON"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-2-7" id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="w">      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="w"></span>
<a href="#__codelineno-2-8" id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="w">    </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-2-9" id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="w">    </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<a href="#__codelineno-2-10" id="__codelineno-2-10" name="__codelineno-2-10"></a><span class="w">  </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-2-11" id="__codelineno-2-11" name="__codelineno-2-11"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><span class="filename">LINK-10G</span><pre><span></span><code><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-3-2" id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="w">    </span><span class="nt">"fabricHIfPol"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-3-3" id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="w">        </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-3-4" id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="w">            </span><span class="nt">"dn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uni/infra/hintfpol-LINK-10G"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-3-5" id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="w">            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LINK-10G"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-3-6" id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="w">            </span><span class="nt">"speed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10G"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-3-7" id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="w">            </span><span class="nt">"rn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hintfpol-LINK-10G"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-3-8" id="__codelineno-3-8" name="__codelineno-3-8"></a><span class="w">            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="w"></span>
<a href="#__codelineno-3-9" id="__codelineno-3-9" name="__codelineno-3-9"></a><span class="w">        </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-3-10" id="__codelineno-3-10" name="__codelineno-3-10"></a><span class="w">        </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<a href="#__codelineno-3-11" id="__codelineno-3-11" name="__codelineno-3-11"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-3-12" id="__codelineno-3-12" name="__codelineno-3-12"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<h3 id="22-vlans-domains-and-aaeps">2.2 VLANs, Domains and AAEPs</h3>
<p>Create VLAN pool with vlan-range, associate it with Physical Domain and AAEP.
Now you will change an approach. Your task is to create VLAN Pool with APIC GUI and capture json code from <strong>API Inspector</strong>.</p>
<p>Connect to your APIC using bookmark in dCloud workstation Chrome. Navigate to Access Polices -&gt; Pools -&gt; VLAN. When you are there, Click on <em>Help and Tools</em> menu in APIC Dashboard</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/apic-api-inspector.png"><img src="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/apic-api-inspector.png" width="800"/></a></p>
<p>and Click on <strong>Show API Inspector</strong>. In new window you will open API Inspector, where you can capture every API call send to the APIC server.</p>
<p>Now you can start ADD VLAN-pool in APIC GUI.</p>
<p>VLAN POOL NAME:</p>
<div class="highlight"><pre><span></span><code>    vlan-pool
</code></pre></div>
<p><strong>Allocation Mode:</strong> Static</p>
<p><strong>Encap Blocks</strong>: 100-200, Inherit Allocation mode from parent, <strong>Role:</strong> External or On the wire encapsulations</p>
<p>SUBMIT and open API Inspector in the another Chrome Window.</p>
<p>Search for <mark><strong>POST</strong></mark> method.</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/api-inspector-vlanpool.png"><img src="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/api-inspector-vlanpool.png" width="800"/></a></p>
<p>COPY now ALL POST URI from API Inspector to Postman request Body.</p>
<p>You should capture data as shown in code below.</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="err">h</span><span class="kc">tt</span><span class="err">ps</span><span class="p">:</span><span class="c1">//apic1.dcloud.cisco.com/api/node/mo/uni/infra/vlanns-[vlan-pool]-static.json</span><span class="w"></span>
<a href="#__codelineno-4-2" id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="err">payload</span><span class="w"></span>
<a href="#__codelineno-4-3" id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-4-4" id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="w">    </span><span class="nt">"fvnsVlanInstP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-4-5" id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="w">        </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-4-6" id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="w">            </span><span class="nt">"dn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uni/infra/vlanns-[vlan-pool]-static"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-4-7" id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="w">            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vlan-pool"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-4-8" id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="w">            </span><span class="nt">"allocMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"static"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-4-9" id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="w">            </span><span class="nt">"rn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vlanns-[vlan-pool]-static"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-4-10" id="__codelineno-4-10" name="__codelineno-4-10"></a><span class="w">            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="w"></span>
<a href="#__codelineno-4-11" id="__codelineno-4-11" name="__codelineno-4-11"></a><span class="w">        </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-4-12" id="__codelineno-4-12" name="__codelineno-4-12"></a><span class="w">        </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<a href="#__codelineno-4-13" id="__codelineno-4-13" name="__codelineno-4-13"></a><span class="w">            </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-4-14" id="__codelineno-4-14" name="__codelineno-4-14"></a><span class="w">                </span><span class="nt">"fvnsEncapBlk"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-4-15" id="__codelineno-4-15" name="__codelineno-4-15"></a><span class="w">                    </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-4-16" id="__codelineno-4-16" name="__codelineno-4-16"></a><span class="w">                        </span><span class="nt">"dn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uni/infra/vlanns-[vlan-pool]-static/from-[vlan-100]-to-[vlan-200]"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-4-17" id="__codelineno-4-17" name="__codelineno-4-17"></a><span class="w">                        </span><span class="nt">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vlan-100"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-4-18" id="__codelineno-4-18" name="__codelineno-4-18"></a><span class="w">                        </span><span class="nt">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vlan-200"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-4-19" id="__codelineno-4-19" name="__codelineno-4-19"></a><span class="w">                        </span><span class="nt">"rn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"from-[vlan-100]-to-[vlan-200]"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-4-20" id="__codelineno-4-20" name="__codelineno-4-20"></a><span class="w">                        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="w"></span>
<a href="#__codelineno-4-21" id="__codelineno-4-21" name="__codelineno-4-21"></a><span class="w">                    </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-4-22" id="__codelineno-4-22" name="__codelineno-4-22"></a><span class="w">                    </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<a href="#__codelineno-4-23" id="__codelineno-4-23" name="__codelineno-4-23"></a><span class="w">                </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-4-24" id="__codelineno-4-24" name="__codelineno-4-24"></a><span class="w">            </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-4-25" id="__codelineno-4-25" name="__codelineno-4-25"></a><span class="w">        </span><span class="p">]</span><span class="w"></span>
<a href="#__codelineno-4-26" id="__codelineno-4-26" name="__codelineno-4-26"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-4-27" id="__codelineno-4-27" name="__codelineno-4-27"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>Now it's time to build a request from data captured. You will use that request in the future for adding more vlan pools.</p>
<p>First, copy URL and place it in Postman URL. Replace apic1.dcloud.cisco.com with our variable {{apic}}. Next replace vlanpool name in [ ] brakets.
New URI looks like that:</p>
<div class="highlight"><pre><span></span><code>    https://{{apic}}/api/node/mo/uni/infra/vlanns-[{{vlanpoolname}}]-static.json
</code></pre></div>
<p><div class="highlight"><span class="filename">VLAN POOL</span><pre><span></span><code><a href="#__codelineno-5-1" id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-5-2" id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="w">    </span><span class="nt">"fvnsVlanInstP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-5-3" id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="w">        </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-5-4" id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="w">            </span><span class="nt">"dn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uni/infra/vlanns-[{{vlanpoolname}}]-static"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-5-5" id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="w">            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{vlanpoolname}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-5-6" id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="w">            </span><span class="nt">"allocMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"static"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-5-7" id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="w">            </span><span class="nt">"rn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vlanns-[{{vlanpoolname}}]-static"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-5-8" id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="w">            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="w"></span>
<a href="#__codelineno-5-9" id="__codelineno-5-9" name="__codelineno-5-9"></a><span class="w">        </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-5-10" id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="w">        </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<a href="#__codelineno-5-11" id="__codelineno-5-11" name="__codelineno-5-11"></a><span class="w">            </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-5-12" id="__codelineno-5-12" name="__codelineno-5-12"></a><span class="w">                </span><span class="nt">"fvnsEncapBlk"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-5-13" id="__codelineno-5-13" name="__codelineno-5-13"></a><span class="w">                    </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-5-14" id="__codelineno-5-14" name="__codelineno-5-14"></a><span class="w">                        </span><span class="nt">"dn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uni/infra/vlanns-[{{vlanpoolname}}]-static/from-[vlan-{{vlanstart}}]-to-[vlan-{{vlanend}}]"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-5-15" id="__codelineno-5-15" name="__codelineno-5-15"></a><span class="w">                        </span><span class="nt">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vlan-{{vlanstart}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-5-16" id="__codelineno-5-16" name="__codelineno-5-16"></a><span class="w">                        </span><span class="nt">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vlan-{{vlanend}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-5-17" id="__codelineno-5-17" name="__codelineno-5-17"></a><span class="w">                        </span><span class="nt">"rn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"from-[vlan-{{vlanstart}}]-to-[vlan-{{vlanend}]"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-5-18" id="__codelineno-5-18" name="__codelineno-5-18"></a><span class="w">                        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="w"></span>
<a href="#__codelineno-5-19" id="__codelineno-5-19" name="__codelineno-5-19"></a><span class="w">                    </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-5-20" id="__codelineno-5-20" name="__codelineno-5-20"></a><span class="w">                    </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<a href="#__codelineno-5-21" id="__codelineno-5-21" name="__codelineno-5-21"></a><span class="w">                </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-5-22" id="__codelineno-5-22" name="__codelineno-5-22"></a><span class="w">            </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-5-23" id="__codelineno-5-23" name="__codelineno-5-23"></a><span class="w">        </span><span class="p">]</span><span class="w"></span>
<a href="#__codelineno-5-24" id="__codelineno-5-24" name="__codelineno-5-24"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-5-25" id="__codelineno-5-25" name="__codelineno-5-25"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
Variables <em>{{vlanpoolname}}, {{vlanstart}}, {{vlanend}}</em> you can replace by hardcoded values in your code, or define values in Environment. Later today you will see the powerfull of variables using csv file for input data.</p>
<p>Same approach please use in Domain and AAEP creation - Go to GUI, do Domain - PHY-DOM, associate with <strong>vlan-pool</strong> and AAEP - dcloud-AAEP. Observe API Inspector, capture the code and build those two requests in Postman.</p>
<p>URI for AAEP Function:</p>
<div class="highlight"><pre><span></span><code>    https://{{apic}}/api/node/mo/uni/infra.json
</code></pre></div>
<div class="highlight"><span class="filename">AAEP</span><pre><span></span><code><a href="#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-6-2" id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="w">    </span><span class="nt">"infraInfra"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-6-3" id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="w">        </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-6-4" id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="w">            </span><span class="nt">"dn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uni/infra"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-6-5" id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="w">            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"modified"</span><span class="w"></span>
<a href="#__codelineno-6-6" id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="w">        </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-6-7" id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="w">        </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<a href="#__codelineno-6-8" id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="w">            </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-6-9" id="__codelineno-6-9" name="__codelineno-6-9"></a><span class="w">                </span><span class="nt">"infraAttEntityP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-6-10" id="__codelineno-6-10" name="__codelineno-6-10"></a><span class="w">                    </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-6-11" id="__codelineno-6-11" name="__codelineno-6-11"></a><span class="w">                        </span><span class="nt">"dn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uni/infra/attentp-{{aaep}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-6-12" id="__codelineno-6-12" name="__codelineno-6-12"></a><span class="w">                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{aaep}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-6-13" id="__codelineno-6-13" name="__codelineno-6-13"></a><span class="w">                        </span><span class="nt">"rn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"attentp-{{aaep}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-6-14" id="__codelineno-6-14" name="__codelineno-6-14"></a><span class="w">                        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="w"></span>
<a href="#__codelineno-6-15" id="__codelineno-6-15" name="__codelineno-6-15"></a><span class="w">                    </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-6-16" id="__codelineno-6-16" name="__codelineno-6-16"></a><span class="w">                    </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<a href="#__codelineno-6-17" id="__codelineno-6-17" name="__codelineno-6-17"></a><span class="w">                </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-6-18" id="__codelineno-6-18" name="__codelineno-6-18"></a><span class="w">            </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-6-19" id="__codelineno-6-19" name="__codelineno-6-19"></a><span class="w">            </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-6-20" id="__codelineno-6-20" name="__codelineno-6-20"></a><span class="w">                </span><span class="nt">"infraFuncP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-6-21" id="__codelineno-6-21" name="__codelineno-6-21"></a><span class="w">                    </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-6-22" id="__codelineno-6-22" name="__codelineno-6-22"></a><span class="w">                        </span><span class="nt">"dn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uni/infra/funcprof"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-6-23" id="__codelineno-6-23" name="__codelineno-6-23"></a><span class="w">                        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"modified"</span><span class="w"></span>
<a href="#__codelineno-6-24" id="__codelineno-6-24" name="__codelineno-6-24"></a><span class="w">                    </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-6-25" id="__codelineno-6-25" name="__codelineno-6-25"></a><span class="w">                    </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<a href="#__codelineno-6-26" id="__codelineno-6-26" name="__codelineno-6-26"></a><span class="w">                </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-6-27" id="__codelineno-6-27" name="__codelineno-6-27"></a><span class="w">            </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-6-28" id="__codelineno-6-28" name="__codelineno-6-28"></a><span class="w">        </span><span class="p">]</span><span class="w"></span>
<a href="#__codelineno-6-29" id="__codelineno-6-29" name="__codelineno-6-29"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-6-30" id="__codelineno-6-30" name="__codelineno-6-30"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>Last one is Domain. Create Physical domain PHY-DOM with vlan pool associated <em>vlan-pool</em> and AAEP <em>dcloud-AAEP</em>.</p>
<div class="highlight"><pre><span></span><code>    https://{{apic}}/api/node/mo/uni/phys-{{domain}}.json
</code></pre></div>
<p><div class="highlight"><span class="filename">Domain</span><pre><span></span><code><a href="#__codelineno-7-1" id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-7-2" id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="w">    </span><span class="nt">"physDomP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-7-3" id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="w">        </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-7-4" id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="w">            </span><span class="nt">"dn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uni/phys-{{domain}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-7-5" id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="w">            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{domain}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-7-6" id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="w">            </span><span class="nt">"rn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phys-{{domain}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-7-7" id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="w">            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="w"></span>
<a href="#__codelineno-7-8" id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="w">        </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-7-9" id="__codelineno-7-9" name="__codelineno-7-9"></a><span class="w">        </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<a href="#__codelineno-7-10" id="__codelineno-7-10" name="__codelineno-7-10"></a><span class="w">            </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-7-11" id="__codelineno-7-11" name="__codelineno-7-11"></a><span class="w">                </span><span class="nt">"infraRsVlanNs"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-7-12" id="__codelineno-7-12" name="__codelineno-7-12"></a><span class="w">                    </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-7-13" id="__codelineno-7-13" name="__codelineno-7-13"></a><span class="w">                        </span><span class="nt">"tDn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uni/infra/vlanns-[{{vlanpoolname}}]-static"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-7-14" id="__codelineno-7-14" name="__codelineno-7-14"></a><span class="w">                        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="w"></span>
<a href="#__codelineno-7-15" id="__codelineno-7-15" name="__codelineno-7-15"></a><span class="w">                    </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-7-16" id="__codelineno-7-16" name="__codelineno-7-16"></a><span class="w">                    </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<a href="#__codelineno-7-17" id="__codelineno-7-17" name="__codelineno-7-17"></a><span class="w">                </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-7-18" id="__codelineno-7-18" name="__codelineno-7-18"></a><span class="w">            </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-7-19" id="__codelineno-7-19" name="__codelineno-7-19"></a><span class="w">        </span><span class="p">]</span><span class="w"></span>
<a href="#__codelineno-7-20" id="__codelineno-7-20" name="__codelineno-7-20"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-7-21" id="__codelineno-7-21" name="__codelineno-7-21"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
Interesting fact about domain to AAEP association. Domain is sub-object to AAEP, you will not see AAEP under Domain definition, even you specify it in APIC GUI. In API you need to add it under AAEP.</p>
<div class="highlight"><pre><span></span><code>https://{{apic}}/api/node/mo/uni/infra.json
</code></pre></div>
<div class="highlight"><span class="filename">Domain to AAEP association</span><pre><span></span><code><a href="#__codelineno-8-1" id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-8-2" id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="w">    </span><span class="nt">"infraAttEntityP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-8-3" id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="w">        </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-8-4" id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="w">            </span><span class="nt">"annotation"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-8-5" id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="w">            </span><span class="nt">"descr"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-8-6" id="__codelineno-8-6" name="__codelineno-8-6"></a><span class="w">            </span><span class="nt">"dn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uni/infra/attentp-{{aaep}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-8-7" id="__codelineno-8-7" name="__codelineno-8-7"></a><span class="w">            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{aaep}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-8-8" id="__codelineno-8-8" name="__codelineno-8-8"></a><span class="w">            </span><span class="nt">"nameAlias"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-8-9" id="__codelineno-8-9" name="__codelineno-8-9"></a><span class="w">            </span><span class="nt">"ownerKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-8-10" id="__codelineno-8-10" name="__codelineno-8-10"></a><span class="w">            </span><span class="nt">"ownerTag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-8-11" id="__codelineno-8-11" name="__codelineno-8-11"></a><span class="w">            </span><span class="nt">"userdom"</span><span class="p">:</span><span class="w"> </span><span class="s2">":all:"</span><span class="w"></span>
<a href="#__codelineno-8-12" id="__codelineno-8-12" name="__codelineno-8-12"></a><span class="w">        </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-8-13" id="__codelineno-8-13" name="__codelineno-8-13"></a><span class="w">        </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<a href="#__codelineno-8-14" id="__codelineno-8-14" name="__codelineno-8-14"></a><span class="w">            </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-8-15" id="__codelineno-8-15" name="__codelineno-8-15"></a><span class="w">                </span><span class="nt">"infraRsDomP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-8-16" id="__codelineno-8-16" name="__codelineno-8-16"></a><span class="w">                    </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-8-17" id="__codelineno-8-17" name="__codelineno-8-17"></a><span class="w">                        </span><span class="nt">"annotation"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-8-18" id="__codelineno-8-18" name="__codelineno-8-18"></a><span class="w">                        </span><span class="nt">"tDn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uni/phys-{{domain}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-8-19" id="__codelineno-8-19" name="__codelineno-8-19"></a><span class="w">                        </span><span class="nt">"userdom"</span><span class="p">:</span><span class="w"> </span><span class="s2">":all:"</span><span class="w"></span>
<a href="#__codelineno-8-20" id="__codelineno-8-20" name="__codelineno-8-20"></a><span class="w">                    </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-8-21" id="__codelineno-8-21" name="__codelineno-8-21"></a><span class="w">                </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-8-22" id="__codelineno-8-22" name="__codelineno-8-22"></a><span class="w">            </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-8-23" id="__codelineno-8-23" name="__codelineno-8-23"></a><span class="w">        </span><span class="p">]</span><span class="w"></span>
<a href="#__codelineno-8-24" id="__codelineno-8-24" name="__codelineno-8-24"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-8-25" id="__codelineno-8-25" name="__codelineno-8-25"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<h3 id="23-interface-policy-group">2.3 Interface Policy Group</h3>
<p>Lets now create one of the Interface policy group and use all created policy.</p>
<div class="highlight"><span class="filename">Interface Policy Group VPC</span><pre><span></span><code><a href="#__codelineno-9-1" id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-9-2" id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="w">    </span><span class="nt">"infraAccBndlGrp"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-9-3" id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="w">        </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-9-4" id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="w">            </span><span class="nt">"dn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uni/infra/funcprof/accbundle-intpolgrp-vpc-server1"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-9-5" id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="w">            </span><span class="nt">"lagT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"node"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-9-6" id="__codelineno-9-6" name="__codelineno-9-6"></a><span class="w">            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"intpolgrp-vpc-server1"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-9-7" id="__codelineno-9-7" name="__codelineno-9-7"></a><span class="w">            </span><span class="nt">"rn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accbundle-intpolgrp-vpc-server1"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-9-8" id="__codelineno-9-8" name="__codelineno-9-8"></a><span class="w">            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="w"></span>
<a href="#__codelineno-9-9" id="__codelineno-9-9" name="__codelineno-9-9"></a><span class="w">        </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-9-10" id="__codelineno-9-10" name="__codelineno-9-10"></a><span class="w">        </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<a href="#__codelineno-9-11" id="__codelineno-9-11" name="__codelineno-9-11"></a><span class="w">            </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-9-12" id="__codelineno-9-12" name="__codelineno-9-12"></a><span class="w">                </span><span class="nt">"infraRsAttEntP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-9-13" id="__codelineno-9-13" name="__codelineno-9-13"></a><span class="w">                    </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-9-14" id="__codelineno-9-14" name="__codelineno-9-14"></a><span class="w">                        </span><span class="nt">"tDn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uni/infra/attentp-dcloud-AAEP"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-9-15" id="__codelineno-9-15" name="__codelineno-9-15"></a><span class="w">                        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created,modified"</span><span class="w"></span>
<a href="#__codelineno-9-16" id="__codelineno-9-16" name="__codelineno-9-16"></a><span class="w">                    </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-9-17" id="__codelineno-9-17" name="__codelineno-9-17"></a><span class="w">                    </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<a href="#__codelineno-9-18" id="__codelineno-9-18" name="__codelineno-9-18"></a><span class="w">                </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-9-19" id="__codelineno-9-19" name="__codelineno-9-19"></a><span class="w">            </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-9-20" id="__codelineno-9-20" name="__codelineno-9-20"></a><span class="w">            </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-9-21" id="__codelineno-9-21" name="__codelineno-9-21"></a><span class="w">                </span><span class="nt">"infraRsHIfPol"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-9-22" id="__codelineno-9-22" name="__codelineno-9-22"></a><span class="w">                    </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-9-23" id="__codelineno-9-23" name="__codelineno-9-23"></a><span class="w">                        </span><span class="nt">"tnFabricHIfPolName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LINK-10G"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-9-24" id="__codelineno-9-24" name="__codelineno-9-24"></a><span class="w">                        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created,modified"</span><span class="w"></span>
<a href="#__codelineno-9-25" id="__codelineno-9-25" name="__codelineno-9-25"></a><span class="w">                    </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-9-26" id="__codelineno-9-26" name="__codelineno-9-26"></a><span class="w">                    </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<a href="#__codelineno-9-27" id="__codelineno-9-27" name="__codelineno-9-27"></a><span class="w">                </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-9-28" id="__codelineno-9-28" name="__codelineno-9-28"></a><span class="w">            </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-9-29" id="__codelineno-9-29" name="__codelineno-9-29"></a><span class="w">            </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-9-30" id="__codelineno-9-30" name="__codelineno-9-30"></a><span class="w">                </span><span class="nt">"infraRsLldpIfPol"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-9-31" id="__codelineno-9-31" name="__codelineno-9-31"></a><span class="w">                    </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-9-32" id="__codelineno-9-32" name="__codelineno-9-32"></a><span class="w">                        </span><span class="nt">"tnLldpIfPolName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LLDP_ON"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-9-33" id="__codelineno-9-33" name="__codelineno-9-33"></a><span class="w">                        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created,modified"</span><span class="w"></span>
<a href="#__codelineno-9-34" id="__codelineno-9-34" name="__codelineno-9-34"></a><span class="w">                    </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-9-35" id="__codelineno-9-35" name="__codelineno-9-35"></a><span class="w">                    </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<a href="#__codelineno-9-36" id="__codelineno-9-36" name="__codelineno-9-36"></a><span class="w">                </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-9-37" id="__codelineno-9-37" name="__codelineno-9-37"></a><span class="w">            </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-9-38" id="__codelineno-9-38" name="__codelineno-9-38"></a><span class="w">            </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-9-39" id="__codelineno-9-39" name="__codelineno-9-39"></a><span class="w">                </span><span class="nt">"infraRsLacpPol"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-9-40" id="__codelineno-9-40" name="__codelineno-9-40"></a><span class="w">                    </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-9-41" id="__codelineno-9-41" name="__codelineno-9-41"></a><span class="w">                        </span><span class="nt">"tnLacpLagPolName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LACP_ACTIVE"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-9-42" id="__codelineno-9-42" name="__codelineno-9-42"></a><span class="w">                        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created,modified"</span><span class="w"></span>
<a href="#__codelineno-9-43" id="__codelineno-9-43" name="__codelineno-9-43"></a><span class="w">                    </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-9-44" id="__codelineno-9-44" name="__codelineno-9-44"></a><span class="w">                    </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<a href="#__codelineno-9-45" id="__codelineno-9-45" name="__codelineno-9-45"></a><span class="w">                </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-9-46" id="__codelineno-9-46" name="__codelineno-9-46"></a><span class="w">            </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-9-47" id="__codelineno-9-47" name="__codelineno-9-47"></a><span class="w">        </span><span class="p">]</span><span class="w"></span>
<a href="#__codelineno-9-48" id="__codelineno-9-48" name="__codelineno-9-48"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-9-49" id="__codelineno-9-49" name="__codelineno-9-49"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>Replace <strong>intpolgrp-vpc-server1</strong> with <strong>intpolgrp-vpc-server2</strong> to observe how simple you can add new VPC policy group using Postman.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Download three files to your dcloud workstation and using <strong>post</strong> in Postman or in APIC GUI upload it to access-polices. Without them, your VPC won't instanciate and cannot be used in later stage of the lab.</p>
<p><mark><strong><a href="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/docs/vpc-policy.json" target="_blank">JSON VPC Policy</a>.</strong></mark></p>
<p><mark><strong><a href="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/docs/interface-leafprofile.json" target="_blank">JSON interface leaf profile</a>.</strong></mark></p>
<p><mark><strong><a href="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/docs/switch-leafprofile.json" target="_blank">JSON switch leaf profile</a>.</strong></mark></p>
<p>Ask instructor for assistance if not clear.</p>
</div>
<h2 id="3-aci-tenant">3  ACI Tenant</h2>
<p>Upon now you created ACI AccessPolicies for your Tenant. Having JSON code for every object you will be able to unified variables across Postman Collection and then run all together using Variables from <em>Environment</em> or much better from CSV file.</p>
<p>Now is time to create your tenant using JSON. It will be simple Tenant definition with one VRF and two bridge domains associated with two EPGs. Every EPG will be associated with created domain and statically binded to both VPC created, with VLAN from VLAN pool done by you perviously.</p>
<p>Figure below shows our Logical Tenant.</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/dcloud-tenant-1.PNG"><img src="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/dcloud-tenant-1.PNG" width="800"/></a></p>
<p>You need to define Tenant, VRF, Bridge-Domains, Application-Profile, EPGs with Domain association and static binding under EPG. Quite many of Requests to do in Postman. You can define all of them under one Request.
Please, download a JSON file from <mark><strong><a href="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/docs/tn-dcloud-tenant-1.json" target="_blank">JSON Tenant Ready</a>.</strong></mark></p>
<p>Once you have it on dcloud workstation, please create new Request under ACI Collection:
NAME:</p>
<div class="highlight"><pre><span></span><code>    CREATE TENANT-1
</code></pre></div>
<p>Method: POST</p>
<p>URL:</p>
<div class="highlight"><pre><span></span><code>    https://{{apic}}/api/node/mo/uni.json
</code></pre></div>
<p>COPY now content from downloaded file to Body of the new request, Save and Send it.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please check your authentication token if still valid.</p>
</div>
<p>Tenant-1 will be created with all structure shown in figure above.</p>
<h3 id="31-tenant-components">3.1 Tenant components</h3>
<p>This section contain JSON codes necessary to create Tenant objects.</p>
<h4 id="311-tenant-and-vrf">3.1.1 Tenant and VRF</h4>
<p>Code below can be used to create new Tenant and VRF.</p>
<div class="highlight"><pre><span></span><code>    https://{{apic}}/api/node/mo/uni.json
</code></pre></div>
<div class="highlight"><span class="filename">Tenant and VRF from CSV</span><pre><span></span><code><a href="#__codelineno-10-1" id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-10-2" id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="w">    </span><span class="nt">"fvTenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-10-3" id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="w">        </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-10-4" id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="w">            </span><span class="nt">"annotation"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-10-5" id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="w">            </span><span class="nt">"descr"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-10-6" id="__codelineno-10-6" name="__codelineno-10-6"></a><span class="w">            </span><span class="nt">"dn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uni/tn-{{tenantname}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-10-7" id="__codelineno-10-7" name="__codelineno-10-7"></a><span class="w">            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{tenantname}}"</span><span class="w"></span>
<a href="#__codelineno-10-8" id="__codelineno-10-8" name="__codelineno-10-8"></a><span class="w">        </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-10-9" id="__codelineno-10-9" name="__codelineno-10-9"></a><span class="w">        </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<a href="#__codelineno-10-10" id="__codelineno-10-10" name="__codelineno-10-10"></a><span class="w">            </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-10-11" id="__codelineno-10-11" name="__codelineno-10-11"></a><span class="w">                </span><span class="nt">"fvCtx"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-10-12" id="__codelineno-10-12" name="__codelineno-10-12"></a><span class="w">                    </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-10-13" id="__codelineno-10-13" name="__codelineno-10-13"></a><span class="w">                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{vrfname}}"</span><span class="w"></span>
<a href="#__codelineno-10-14" id="__codelineno-10-14" name="__codelineno-10-14"></a><span class="w">                    </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-10-15" id="__codelineno-10-15" name="__codelineno-10-15"></a><span class="w">                    </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<a href="#__codelineno-10-16" id="__codelineno-10-16" name="__codelineno-10-16"></a><span class="w">                </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-10-17" id="__codelineno-10-17" name="__codelineno-10-17"></a><span class="w">            </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-10-18" id="__codelineno-10-18" name="__codelineno-10-18"></a><span class="w">        </span><span class="p">]</span><span class="w"></span>
<a href="#__codelineno-10-19" id="__codelineno-10-19" name="__codelineno-10-19"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-10-20" id="__codelineno-10-20" name="__codelineno-10-20"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<h4 id="312-bd-in-existing-tenant">3.1.2 BD in existing tenant</h4>
<p>Code below can be used to create new Bridge-Domain in existing Tenant.</p>
<div class="highlight"><pre><span></span><code>    https://{{apic}}/api/node/mo/uni.json
</code></pre></div>
<div class="highlight"><span class="filename">Bridge-domain L3 from CSV</span><pre><span></span><code><a href="#__codelineno-11-1" id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-11-2" id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="w">    </span><span class="nt">"fvBD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-11-3" id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="w">        </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-11-4" id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="w">            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{bdname}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-11-5" id="__codelineno-11-5" name="__codelineno-11-5"></a><span class="w">            </span><span class="nt">"dn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uni/tn-{{tenantname}}/BD-{{bdname}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-11-6" id="__codelineno-11-6" name="__codelineno-11-6"></a><span class="w">            </span><span class="nt">"rn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BD-{{bdname}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-11-7" id="__codelineno-11-7" name="__codelineno-11-7"></a><span class="w">            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"regular"</span><span class="w"></span>
<a href="#__codelineno-11-8" id="__codelineno-11-8" name="__codelineno-11-8"></a><span class="w">        </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-11-9" id="__codelineno-11-9" name="__codelineno-11-9"></a><span class="w">        </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<a href="#__codelineno-11-10" id="__codelineno-11-10" name="__codelineno-11-10"></a><span class="w">            </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-11-11" id="__codelineno-11-11" name="__codelineno-11-11"></a><span class="w">                </span><span class="nt">"fvSubnet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-11-12" id="__codelineno-11-12" name="__codelineno-11-12"></a><span class="w">                    </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-11-13" id="__codelineno-11-13" name="__codelineno-11-13"></a><span class="w">                        </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ipaddress}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-11-14" id="__codelineno-11-14" name="__codelineno-11-14"></a><span class="w">                        </span><span class="nt">"ipDPLearning"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enabled"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-11-15" id="__codelineno-11-15" name="__codelineno-11-15"></a><span class="w">                        </span><span class="nt">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"private"</span><span class="w"></span>
<a href="#__codelineno-11-16" id="__codelineno-11-16" name="__codelineno-11-16"></a><span class="w">                    </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-11-17" id="__codelineno-11-17" name="__codelineno-11-17"></a><span class="w">                </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-11-18" id="__codelineno-11-18" name="__codelineno-11-18"></a><span class="w">            </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-11-19" id="__codelineno-11-19" name="__codelineno-11-19"></a><span class="w">            </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-11-20" id="__codelineno-11-20" name="__codelineno-11-20"></a><span class="w">                </span><span class="nt">"fvRsCtx"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-11-21" id="__codelineno-11-21" name="__codelineno-11-21"></a><span class="w">                    </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-11-22" id="__codelineno-11-22" name="__codelineno-11-22"></a><span class="w">                        </span><span class="nt">"tnFvCtxName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{vrfname}}"</span><span class="w"></span>
<a href="#__codelineno-11-23" id="__codelineno-11-23" name="__codelineno-11-23"></a><span class="w">                    </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-11-24" id="__codelineno-11-24" name="__codelineno-11-24"></a><span class="w">                </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-11-25" id="__codelineno-11-25" name="__codelineno-11-25"></a><span class="w">            </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-11-26" id="__codelineno-11-26" name="__codelineno-11-26"></a><span class="w">        </span><span class="p">]</span><span class="w"></span>
<a href="#__codelineno-11-27" id="__codelineno-11-27" name="__codelineno-11-27"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-11-28" id="__codelineno-11-28" name="__codelineno-11-28"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>In case you need to add BD without IP address and unicast routing disabled, use code below.</p>
<div class="highlight"><pre><span></span><code>    https://{{apic}}/api/node/mo/uni.json
</code></pre></div>
<p><div class="highlight"><span class="filename">Bridge-domain L2 from CSV</span><pre><span></span><code><a href="#__codelineno-12-1" id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-12-2" id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="w">    </span><span class="nt">"fvTenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-12-3" id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="w">        </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-12-4" id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="w">            </span><span class="nt">"dn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uni/tn-{{tenantname}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-12-5" id="__codelineno-12-5" name="__codelineno-12-5"></a><span class="w">            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"modified"</span><span class="w"></span>
<a href="#__codelineno-12-6" id="__codelineno-12-6" name="__codelineno-12-6"></a><span class="w">        </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-12-7" id="__codelineno-12-7" name="__codelineno-12-7"></a><span class="w">        </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<a href="#__codelineno-12-8" id="__codelineno-12-8" name="__codelineno-12-8"></a><span class="w">            </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-12-9" id="__codelineno-12-9" name="__codelineno-12-9"></a><span class="w">                </span><span class="nt">"fvBD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-12-10" id="__codelineno-12-10" name="__codelineno-12-10"></a><span class="w">                    </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-12-11" id="__codelineno-12-11" name="__codelineno-12-11"></a><span class="w">                        </span><span class="nt">"dn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uni/tn-{{tenantname}}/BD-{{bdname}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-12-12" id="__codelineno-12-12" name="__codelineno-12-12"></a><span class="w">                        </span><span class="nt">"mac"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:22:BD:F8:19:FF"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-12-13" id="__codelineno-12-13" name="__codelineno-12-13"></a><span class="w">                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{bdname}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-12-14" id="__codelineno-12-14" name="__codelineno-12-14"></a><span class="w">                        </span><span class="nt">"rn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BD-{{bdname}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-12-15" id="__codelineno-12-15" name="__codelineno-12-15"></a><span class="hll"><span class="w">                        </span><span class="nt">"arpFlood"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yes"</span><span class="p">,</span><span class="w"></span>
</span><a href="#__codelineno-12-16" id="__codelineno-12-16" name="__codelineno-12-16"></a><span class="hll"><span class="w">                        </span><span class="nt">"ipLearning"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no"</span><span class="p">,</span><span class="w"></span>
</span><a href="#__codelineno-12-17" id="__codelineno-12-17" name="__codelineno-12-17"></a><span class="hll"><span class="w">                        </span><span class="nt">"unicastRoute"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no"</span><span class="p">,</span><span class="w"></span>
</span><a href="#__codelineno-12-18" id="__codelineno-12-18" name="__codelineno-12-18"></a><span class="hll"><span class="w">                        </span><span class="nt">"unkMacUcastAct"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flood"</span><span class="p">,</span><span class="w"></span>
</span><a href="#__codelineno-12-19" id="__codelineno-12-19" name="__codelineno-12-19"></a><span class="w">                        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"regular"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-12-20" id="__codelineno-12-20" name="__codelineno-12-20"></a><span class="w">                        </span><span class="nt">"unkMcastAct"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flood"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-12-21" id="__codelineno-12-21" name="__codelineno-12-21"></a><span class="w">                        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="w"></span>
<a href="#__codelineno-12-22" id="__codelineno-12-22" name="__codelineno-12-22"></a><span class="w">                    </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-12-23" id="__codelineno-12-23" name="__codelineno-12-23"></a><span class="w">                    </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<a href="#__codelineno-12-24" id="__codelineno-12-24" name="__codelineno-12-24"></a><span class="w">                        </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-12-25" id="__codelineno-12-25" name="__codelineno-12-25"></a><span class="w">                            </span><span class="nt">"fvRsCtx"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-12-26" id="__codelineno-12-26" name="__codelineno-12-26"></a><span class="w">                                </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-12-27" id="__codelineno-12-27" name="__codelineno-12-27"></a><span class="w">                                    </span><span class="nt">"tnFvCtxName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{vrfname}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-12-28" id="__codelineno-12-28" name="__codelineno-12-28"></a><span class="w">                                    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created,modified"</span><span class="w"></span>
<a href="#__codelineno-12-29" id="__codelineno-12-29" name="__codelineno-12-29"></a><span class="w">                                </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-12-30" id="__codelineno-12-30" name="__codelineno-12-30"></a><span class="w">                                </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<a href="#__codelineno-12-31" id="__codelineno-12-31" name="__codelineno-12-31"></a><span class="w">                            </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-12-32" id="__codelineno-12-32" name="__codelineno-12-32"></a><span class="w">                        </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-12-33" id="__codelineno-12-33" name="__codelineno-12-33"></a><span class="w">                    </span><span class="p">]</span><span class="w"></span>
<a href="#__codelineno-12-34" id="__codelineno-12-34" name="__codelineno-12-34"></a><span class="w">                </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-12-35" id="__codelineno-12-35" name="__codelineno-12-35"></a><span class="w">            </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-12-36" id="__codelineno-12-36" name="__codelineno-12-36"></a><span class="w">        </span><span class="p">]</span><span class="w"></span>
<a href="#__codelineno-12-37" id="__codelineno-12-37" name="__codelineno-12-37"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-12-38" id="__codelineno-12-38" name="__codelineno-12-38"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<mark><strong>Highlighted</strong></mark> rows are specific for L2 Bridge-Domain.</p>
<h4 id="313-application-profile">3.1.3 Application Profile</h4>
<p>Component which contain all EPGs in the Tenant.</p>
<div class="highlight"><pre><span></span><code>    https://{{apic}}/api/node/mo/uni.json
</code></pre></div>
<div class="highlight"><span class="filename">Application Profile from CSV</span><pre><span></span><code><a href="#__codelineno-13-1" id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-13-2" id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="w">    </span><span class="nt">"fvAp"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-13-3" id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="w">        </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-13-4" id="__codelineno-13-4" name="__codelineno-13-4"></a><span class="w">            </span><span class="nt">"dn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uni/tn-{{tenantname}}/ap-{{ap}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-13-5" id="__codelineno-13-5" name="__codelineno-13-5"></a><span class="w">            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ap}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-13-6" id="__codelineno-13-6" name="__codelineno-13-6"></a><span class="w">            </span><span class="nt">"rn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ap-{{ap}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-13-7" id="__codelineno-13-7" name="__codelineno-13-7"></a><span class="w">            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="w"></span>
<a href="#__codelineno-13-8" id="__codelineno-13-8" name="__codelineno-13-8"></a><span class="w">        </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-13-9" id="__codelineno-13-9" name="__codelineno-13-9"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-13-10" id="__codelineno-13-10" name="__codelineno-13-10"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<h4 id="314-epgs-in-existing-tenantappprofiles-and-associated-with-domain">3.1.4 EPGs in existing tenant/appprofiles and associated with domain</h4>
<div class="highlight"><pre><span></span><code>    https://{{apic}}/api/node/mo/uni.json
</code></pre></div>
<div class="highlight"><span class="filename">Create EPG under existing application profile from CSV</span><pre><span></span><code><a href="#__codelineno-14-1" id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-14-2" id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="w">  </span><span class="nt">"fvAEPg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-14-3" id="__codelineno-14-3" name="__codelineno-14-3"></a><span class="w">    </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-14-4" id="__codelineno-14-4" name="__codelineno-14-4"></a><span class="w">      </span><span class="nt">"dn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uni/tn-{{tenantname}}/ap-{{ap}}/epg-{{epgname}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-14-5" id="__codelineno-14-5" name="__codelineno-14-5"></a><span class="w">      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{epgname}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-14-6" id="__codelineno-14-6" name="__codelineno-14-6"></a><span class="w">      </span><span class="nt">"rn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"epg-{{epgname}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-14-7" id="__codelineno-14-7" name="__codelineno-14-7"></a><span class="w">      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="w"></span>
<a href="#__codelineno-14-8" id="__codelineno-14-8" name="__codelineno-14-8"></a><span class="w">    </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-14-9" id="__codelineno-14-9" name="__codelineno-14-9"></a><span class="w">    </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<a href="#__codelineno-14-10" id="__codelineno-14-10" name="__codelineno-14-10"></a><span class="w">      </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-14-11" id="__codelineno-14-11" name="__codelineno-14-11"></a><span class="w">        </span><span class="nt">"fvRsBd"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-14-12" id="__codelineno-14-12" name="__codelineno-14-12"></a><span class="w">          </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-14-13" id="__codelineno-14-13" name="__codelineno-14-13"></a><span class="w">            </span><span class="nt">"tnFvBDname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{bdname}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-14-14" id="__codelineno-14-14" name="__codelineno-14-14"></a><span class="w">            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created,modified"</span><span class="w"></span>
<a href="#__codelineno-14-15" id="__codelineno-14-15" name="__codelineno-14-15"></a><span class="w">          </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-14-16" id="__codelineno-14-16" name="__codelineno-14-16"></a><span class="w">          </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<a href="#__codelineno-14-17" id="__codelineno-14-17" name="__codelineno-14-17"></a><span class="w">        </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-14-18" id="__codelineno-14-18" name="__codelineno-14-18"></a><span class="w">      </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-14-19" id="__codelineno-14-19" name="__codelineno-14-19"></a><span class="w">      </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-14-20" id="__codelineno-14-20" name="__codelineno-14-20"></a><span class="w">        </span><span class="nt">"fvRsDomAtt"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-14-21" id="__codelineno-14-21" name="__codelineno-14-21"></a><span class="w">          </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a href="#__codelineno-14-22" id="__codelineno-14-22" name="__codelineno-14-22"></a><span class="w">            </span><span class="nt">"tDn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uni/phys-{{domain}}"</span><span class="p">,</span><span class="w"></span>
<a href="#__codelineno-14-23" id="__codelineno-14-23" name="__codelineno-14-23"></a><span class="w">            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="w"></span>
<a href="#__codelineno-14-24" id="__codelineno-14-24" name="__codelineno-14-24"></a><span class="w">          </span><span class="p">},</span><span class="w"></span>
<a href="#__codelineno-14-25" id="__codelineno-14-25" name="__codelineno-14-25"></a><span class="w">          </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<a href="#__codelineno-14-26" id="__codelineno-14-26" name="__codelineno-14-26"></a><span class="w">        </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-14-27" id="__codelineno-14-27" name="__codelineno-14-27"></a><span class="w">      </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-14-28" id="__codelineno-14-28" name="__codelineno-14-28"></a><span class="w">    </span><span class="p">]</span><span class="w"></span>
<a href="#__codelineno-14-29" id="__codelineno-14-29" name="__codelineno-14-29"></a><span class="w">  </span><span class="p">}</span><span class="w"></span>
<a href="#__codelineno-14-30" id="__codelineno-14-30" name="__codelineno-14-30"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<h2 id="4-use-csv-file-for-input-data">4 Use CSV file for input data</h2>
<p>You are about to re-use work you did during all excercises. Untill now you run every request for static data, only once. Adding 100 Bridge-Domains, by changing "Variables" within the code would be problematic. Postman is giving an option to use external variable file to execute created requests in the collection.</p>
<p>By running five requests from your Collection and using CSV file from location <mark><strong><a href="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/docs/tenant-create.csv" target="_blank">FILE CSV TO DOWNLOAD</a></strong></mark> you will add new Tenant with one VRF, Applicatioin Profile, 22 Bridge-Domains and 22 EPGs associated to Physical Domain created before. All of this will be done in one Postman collection Run.</p>
<h2 id="41-run-collection-requests">4.1 Run Collection requests</h2>
<p>Follow the instruction from the figure below:</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-coll-run-1.png"><img src="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-coll-run-1.png" width="800"/></a></p>
<p>1)  Click on dots icon at your ACI dCloud collection folder</p>
<p>2)  Select <strong>Run Collection</strong></p>
<p>You will be moved to new dashboard, where you will select Requests and input file.</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-coll-run-2.png"><img src="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-coll-run-2.png" width="800"/></a></p>
<p>Deselect All, and then Select only needed requests:</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-coll-run-3.png"><img src="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-coll-run-3.png" width="800"/></a></p>
<p>When you select Requests, go to Data <strong>"Select File"</strong> and choice downloaded CSV file - <em>tenant-create.csv</em>.</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-coll-run-4.png"><img src="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-coll-run-4.png" width="800"/></a></p>
<p>Confirm that your file is selected as on the figure above. You can confirm amount of iterations in the top field <em>Iterations</em>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Do not forget to authenticate your Postman session using ACI Login request. I recommend to do it out of collection Run -- beforehand.</p>
</div>
<p>Click <strong> Run ACI dCloud </strong> Blue button.</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-coll-run-5.png"><img src="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-coll-run-5.png" width="800"/></a></p>
<h2 id="42-verification-after-runing-the-collection">4.2 Verification after runing the collection</h2>
<p>When you successfully execute your collection, in Summary at the screen you will see results of every Iteration.</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-coll-run-6.png"><img src="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-coll-run-6.png" width="800"/></a></p>
<p>When Request was accepted by APIC, result will be <strong>200 OK</strong>. Every Iteration contain all five seleceted requests. You probably noticed that one of them is getting <strong>400 Bad Request</strong> - "Bridge Domain L3 from CSV". Reason for that, is missing children attribute <strong>fvSubnet</strong> for all L2 bridge-domain in our CSV file.</p>
<p>Now connect to APIC GUI and verify if tenant exists, check dashboard status.</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-coll-run-7.png"><img src="https://raw.githubusercontent.com/marcinduma/ACI-Automation/main/images/postman-coll-run-7.png" width="800"/></a></p>
<p>You successfully Created New Tenant with 22 EPGs and 22 BDs.</p>
<p>Please, edit CSV file in notepad++ editor at your dCloud workstation, replace Tenantname with new and run your Postman Collection once again.</p>
<p><strong><p align="center">Do you understand now power of simple automation?</p></strong></p>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
<script src="../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
<script src="../js/print-site.js"></script>
<script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>